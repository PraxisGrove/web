根据您的 `README.md` 和 `package.json` 文件内容，我为您整理并撰写了以下产品需求文档（PRD）。这份文档将项目的愿景、功能模块、技术架构及非功能性需求进行了系统化的梳理。

---

# 产品需求文档 (PRD) - PraxisGrove

| 文档版本 | 日期 | 状态 | 作者 | 备注 |
| :--- | :--- | :--- | :--- | :--- |
| v1.9 | 2025-11-26 | 已发布 (MVP) | PraxisGrove Team | 引入“双模态”设计，AI 模块支持学习者/创造者模式 |

## 1. 引言

### 1.1 产品愿景
**PraxisGrove** 致力于打造下一代在线教育平台，通过融合 **人工智能 (AI)**、**知识可视化** 与 **加密技术 (Crypto)**，构建一所“无需许可的学校”。我们的目标是让抽象知识可视化、学习路径个性化、教育资源无边界化。

### 1.2 核心价值主张
*   **智能驱动**: 利用 AI 提供 24/7 个性化指导与工具支持。
*   **交互体验**: 通过交互式知识图谱将知识结构化、可视化，清晰展示知识点间的逻辑关系。
*   **社区共建**: 连接全球学习者，形成去中心化的知识生态。
*   **永续记录**: 利用区块链技术确权学习成果，确保证书与成就不可篡改。

## 2. 功能需求 (Functional Requirements)

### 2.1 🧠 AI 学习共驾驶 (AI Learning Co-pilot)
从被动工具升级为主动、深度集成的学习伙伴，支持 **学习者 (Learner)** 与 **创造者 (Creator)** 双模态切换。

#### 2.1.1 学习者模式 (Learner Mode) - "Absorb & Grow"
*   **苏格拉底式导师 (Socratic Tutor)**:
    *   **引导式教学**: 拒绝直接灌输答案，通过反问和提示引导用户自主推导结论，培养批判性思维。
    *   **概念探针**: 在对话中自动检测用户对核心概念的理解偏差，并实时纠正。
*   **上下文感知引擎 (Context-Aware Engine)**:
    *   **Roadmap 伴随**: 当用户点击 Roadmap 节点时，自动加载该节点的上下文（前置知识、核心概念），无需重复输入背景。
    *   **即时解释 (Instant Explain)**: 选中文本即可唤起 AI，支持“像五岁孩子一样解释 (ELI5)”、“深度剖析”或“生成类比”等模式。
*   **动态学习生成器 (Dynamic Learning Generator)**:
    *   **微课程生成**: 针对 Roadmap 上的任意节点，实时生成包含简短文本、测验和代码示例的“微课程”。
    *   **个性化测验**: 根据对话历史和薄弱环节，动态生成针对性测验，验证掌握程度并自动更新 Roadmap 状态。

#### 2.1.2 创造者模式 (Creator Mode) - "Build & Share"
*   **AI 辅助创作 (AI-Assisted Creation)**:
    *   **节点草稿生成**: 输入主题，AI 自动生成知识节点的初始内容、关键概念及推荐资源。
    *   **教学文案优化**: 辅助润色教学内容，使其更通俗易懂或更具专业性。
    *   **测验题生成**: 根据知识点内容，自动生成多维度（选择、填空、代码）的测试题库。
*   **Roadmap 架构师 (Roadmap Architect)**:
    *   **结构建议**: AI 分析现有 Roadmap 结构，推荐缺失的前置知识或后续进阶路径。
    *   **依赖检查**: 自动检测知识点之间的依赖关系是否逻辑自洽，防止循环依赖。

### 2.2 🗺️ 学习路线图 (Roadmap)
核心差异化功能，利用 AI 生成与可视化技术展示知识关联与学习路径。

*   **交互式路线图**:
    *   使用 **React Flow (@xyflow/react)** 渲染交互式节点图。
    *   支持画布无限缩放 (Zoom)、平移 (Pan)、点击节点查看详情。
    *   清晰展示知识点之间的连接线、依赖关系及前置知识。
    *   支持自定义节点样式，区分已掌握、学习中和未解锁的知识点。
    *   **AI 生成与编辑**:
        *   支持通过 AI 自动生成初始 Roadmap 结构。
        *   提供可视化编辑器，允许用户手动添加、删除、修改节点及连接关系。
*   **路径可视化**:
    *   在 Roadmap 中高亮显示推荐的学习顺序 (DAG - 有向无环图)。
    *   实时追踪用户的学习进度。
*   **进度统计**:
    *   展示已掌握知识点数量及领域覆盖率。

### 2.3 👥 学习社区 (Community)
促进学习者之间的互动与知识沉淀。

*   **内容聚合**:
    *   多维度展示帖子：热门 (Trending)、最新 (Newest)、关注 (Following)。
*   **互动功能**:
    *   支持点赞、评论、收藏、分享帖子。
*   **板块分类**:
    *   提供“学习交流”、“编程技术”、“创意分享”等预设频道。

### 2.4 👤 个人中心 (User Profile)
用户的学习数据中心与成就展示。

*   **仪表板 (Dashboard)**:
    *   展示关键指标：总学习时长、掌握知识点数、连续打卡天数。
*   **数据可视化**:
    *   **学习趋势图**: 折线图展示每日/周学习活跃度。
    *   **技能雷达图**: 多维展示用户在不同领域的技能水平。
*   **成就系统**:
    *   徽章墙：展示已解锁的成就徽章（如“初学乍练”、“代码大师”）。
    *   支持将成就铸造为链上凭证 (NFT/SBT)（Web3 集成）。

### 2.5 🔐 认证与 Web3 集成
*   **钱包连接**: 支持 MetaMask, Coinbase Wallet, WalletConnect 等主流钱包。
*   **身份验证**: 基于钱包地址的去中心化登录或传统 Web2 登录。

## 3. 非功能需求 (Non-Functional Requirements)

### 3.1 用户体验 (UX/UI)
*   **响应式设计**: 采用 Mobile-First 策略，完美适配手机、平板及桌面端 (Tailwind CSS 4.0)。
*   **视觉风格**: 支持深色/浅色模式切换，采用现代化、科技感设计风格。
*   **动画交互**: 使用 Framer Motion 和 GSAP 实现流畅的页面过渡、微交互及粒子特效。
*   **无障碍性 (a11y)**: 遵循 WCAG 标准，确保键盘导航和屏幕阅读器支持 (Radix UI)。

### 3.2 性能要求
*   **加载速度**: 首页 FCP (First Contentful Paint) < 1.5s。
*   **图谱渲染优化**: 针对大型知识图谱（数百个节点以上）实施节点虚拟化或分层渲染，确保操作流畅不卡顿。
*   **资源优化**: 图片懒加载 (Lazy Image)、代码分割 (Code Splitting)。

### 3.3 技术约束
*   **前端/BFF**: Next.js 15.4 (App Router) + React 18 + TypeScript 5.0。
*   **后端服务**: Go (Golang) - 负责核心业务逻辑与数据持久化。
*   **AI 服务**: 运行在 Next.js API Routes / Server Actions 中的 TypeScript Agent。
*   **状态管理**: Zustand (全局状态) + TanStack Query (服务端状态)。
*   **样式库**: Tailwind CSS + shadcn/ui + Aceternity UI。
*   **测试覆盖**: 单元测试 (Vitest) + E2E 测试 (Playwright)。

### 3.4 SEO 与数据
*   **SEO**: 必须包含结构化数据 (JSON-LD)、动态 Meta 标签、语义化 HTML。
*   **分析**: 集成 Vercel Analytics 和 Speed Insights 监控真实用户体验。

## 4. 数据结构概览 (简述)

*   **User**: ID, 钱包地址, 昵称, 头像, 经验值, 等级。
*   **Post**: ID, 作者, 内容, 标签, 点赞数, 评论数, 发布时间。
*   **Achievement**: ID, 名称, 描述, 图标, 解锁条件。
*   **KnowledgeNode**: ID, 名称, 坐标 (x,y), 关联节点 IDs, 掌握状态, 节点类型。

## 5. 未来规划 (Roadmap)

*   **Q1 2026**: 推出贡献者激励计划，支持用户贡献知识节点并获得代币奖励。
*   **Q2 2026**: 完善 DAO 治理模块，允许社区投票决定平台发展方向。
*   **Q3 2026**: 引入 VR/AR 学习模式，深化沉浸式体验。

---

**附录：技术栈详情**
> 核心依赖版本参考 `package.json`
*   **Frontend Core**: Next.js 15.4.2, React 18.3.1
*   **Backend Core**: Go (Golang)
*   **Web3**: Wagmi 3.0.1, Viem 2.39.3, Reown AppKit
*   **AI/Agent**: LangChain.js, LangGraph.js (TypeScript), Vercel AI SDK
*   **Visualization**: React Flow (@xyflow/react), Framer Motion 12, GSAP
*   **UI**: Tailwind CSS 4, Radix UI, Lucide React